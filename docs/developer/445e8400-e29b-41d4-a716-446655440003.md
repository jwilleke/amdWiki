---
title: Plugin System Documentation
system-category: developer
user-keywords:
  - plugins
  - documentation
  - jspwiki
uuid: 445e8400-e29b-41d4-a716-446655440003
lastModified: '2025-09-07T09:42:00.000Z'
slug: plugin-system-documentation
---

# amdWiki Plugin System Documentation

amdWiki implements a JSPWiki-compatible plugin system that allows dynamic content to be embedded in any wiki page.

## System Variables

System variables provide real-time information about the wiki:

| Variable | Syntax | Description | Example Output |
| ---------- | -------- | ------------- | ---------------- |
| Page Name | `[{$pagename}]` | Current page name | [{$pagename}] |
| Total Pages | `[{$totalpages}]` | Number of pages in wiki | [{$totalpages}] |
| Uptime | `[{$uptime}]` | Server uptime | [{$uptime}] |
| Application | `[{$applicationname}]` | Wiki application name | [{$applicationname}] |
| Base URL | `[{$baseurl}]` | Wiki base URL | [{$baseurl}] |
| Timestamp | `[{$timestamp}]` | Current ISO timestamp | [{$timestamp}] |
| Date | `[{$date}]` | Current date | [{$date}] |
| Time | `[{$time}]` | Current time | [{$time}] |

## Plugins

Plugins provide dynamic functionality:

| Plugin | Syntax | Description | Example Output |
| -------- | -------- | ------------- | ---------------- |
| Sessions | `[{SessionsPlugin}]` | Active sessions | [{SessionsPlugin}] |
| Total Pages | `[{TotalPagesPlugin}]` | Page count | [{TotalPagesPlugin}] |
| Uptime | `[{UptimePlugin}]` | Server uptime | [{UptimePlugin}] |
| Referring Pages | `[{ReferringPagesPlugin page="PageName" max=5}]` | Pages that link to specified page | (See below) |

## Plugin Parameters

Many plugins accept parameters to customize their behavior:

```
[{ReferringPagesPlugin page="Welcome" max=10 separator="<br/>"}]
```

Common parameters:

- `page="PageName"` - Specify target page
- `max=n` - Limit number of results
- `separator="text"` - Custom separator between items

## Escaping and Protection

### Code Blocks

Plugins are NOT expanded in code blocks:

```markdown
This will not expand: [{$pagename}]
Neither will this: [{SessionsPlugin}]
```

### Inline Code

Plugins are NOT expanded in inline code:
Use `[{$pagename}]` to show the current page name.

### Escaped Syntax

Use double brackets to prevent expansion:

- `[[{$pagename}]` displays literal `[{$pagename}]`
- `[[{SessionsPlugin}]` displays literal `[{SessionsPlugin}]`

## Creating Custom Plugins

Plugins are stored in `/plugins` directory and follow this structure:

```javascript
const MyPlugin = {
  name: 'MyPlugin',
  description: 'Description of what this plugin does',
  author: 'Your Name',
  version: '1.0.0',

  execute(context, params) {
    // context.engine - WikiEngine instance
    // context.pageName - Current page name
    // params - Object with plugin parameters
    
    return 'Plugin output HTML';
  }
};

module.exports = MyPlugin;
```

## Usage Examples

### Basic Information Display

```markdown
Welcome to [{$applicationname}]!
This wiki has [{$totalpages}] pages.
Server has been running for [{$uptime}].
```

### Dynamic Content

```markdown
Current page: [{$pagename}]
Last updated: [{$timestamp}]
Active sessions: [{SessionsPlugin}]
```

### Referring Pages

Pages that link to this page:
[{ReferringPagesPlugin max=5}]

## Best Practices

1. **Use System Variables** for basic information (page name, counts, etc.)
2. **Use Plugins** for complex functionality (lists, calculations, etc.)
3. **Escape in Documentation** when showing syntax examples
4. **Protect Code** when displaying plugin syntax literally
5. **Add Parameters** to customize plugin behavior

## Technical Implementation

The plugin system is implemented in:

- `RenderingManager.js` - Processes plugin expansion during rendering
- `PluginManager.js` - Loads and executes plugins
- `/plugins/` directory - Contains plugin implementations

Plugins are processed during the markdown rendering phase, allowing them to work on any page in the wiki.

## Compatibility

This plugin system is designed to be compatible with JSPWiki plugin syntax, making it easy to migrate content or adapt existing JSPWiki plugins.
