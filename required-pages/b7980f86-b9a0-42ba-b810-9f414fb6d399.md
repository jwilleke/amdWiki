---
title: ConfigAccessorPlugin
uuid: b7980f86-b9a0-42ba-b810-9f414fb6d399
system-category: documentation
user-keywords:
  - configuration
  - plugin
  - settings
  - roles
slug: configaccessorplugin
lastModified: '2025-10-17T11:12:01.409Z'
author: jim
---
# ConfigAccessorPlugin

**Version:** 2.2.0

The ConfigAccessorPlugin provides access to system configuration values including roles, features, manager settings, and any configuration property. This plugin is useful for displaying configuration information on wiki pages or embedding config values inline in text.

## Quick Examples

### Inline Value (Smart Default - No Trailing Newline)
```wiki
Port: [{ConfigAccessor key='amdwiki.server.port' valueonly='true'}]
```
**Output:** Port: [{ConfigAccessor key='amdwiki.server.port' valueonly='true'}]

**Note:** Single values have no trailing newline by default - perfect for inline use!

### Display Formatted Config Value
```wiki
[{ConfigAccessor key='amdwiki.server.port'}]
```
**Output:**
[{ConfigAccessor key='amdwiki.server.port'}]

### Wildcard Pattern Matching
```wiki
[{ConfigAccessor key='amdwiki.server.*'}]
```
**Output:**
[{ConfigAccessor key='amdwiki.server.*'}]

### Display All Roles
```wiki
[{ConfigAccessor type='roles'}]
```
**Output:**
[{ConfigAccessor type='roles'}]

### Display All Actions (Permissions)
```wiki
[{ConfigAccessor type='actions'}]
```
**Output:**
[{ConfigAccessor type='actions'}]

### Display Actions (Value Only - List)
```wiki
[{ConfigAccessor type='actions' valueonly='true'}]
```
**Output:**
[{ConfigAccessor type='actions' valueonly='true'}]

### Display Actions (Value Only - Bulleted)
```wiki
[{ConfigAccessor type='actions' valueonly='true' before='* ' after='\n'}]
```
**Output:**
[{ConfigAccessor type='actions' valueonly='true' before='* ' after='\n'}]

## Parameters

| Parameter | Values | Default | Required | Description |
|-----------|--------|---------|----------|-------------|
| `key` | Config key with optional wildcards (*) | *(none)* | Yes (if no `type`) | Configuration key in dot-notation, supports wildcards |
| `type` | `roles`, `manager`, `feature` | *(none)* | Yes (if no `key`) | What type of configuration to display |
| `valueonly` | `true`, `false` | `false` | No | Return only value(s) without HTML formatting |
| `before` | Any string | `''` (empty) | No | String to prepend before each value (only with `valueonly`) |
| `after` | Any string | *Smart default* | No | String to append after each value (only with `valueonly`) |
| `manager` | Manager name | *(none)* | Yes (if `type='manager'`) | Manager name |
| `feature` | Feature name | *(none)* | Yes (if `type='feature'`) | Feature name |

**Important:** You must specify either `key` or `type` parameter. The plugin will return an error if neither is provided.

**Note:** The `before` and `after` parameters only work when `valueonly='true'`. They are ignored in formatted display mode.

**Smart Default for `after`:**
- **Single value** (no wildcard): `''` (empty string) - Perfect for inline use
- **Multiple values** (wildcard): `'\n'` (newline) - One value per line by default

## Usage Examples

### Example 1: Inline Value in Sentence (Smart Default)
```wiki
The application is running version [{ConfigAccessor key='amdwiki.version' valueonly='true'}].
```
**Output:** The application is running version [{ConfigAccessor key='amdwiki.version' valueonly='true'}].

**Note:** No need to specify `after=''` - single values have no trailing newline by default!

### Example 2: Bulleted List with Wildcard
```wiki
## Server Settings

[{ConfigAccessor key='amdwiki.server.*' valueonly='true' before='* ' after='\n'}]
```
**Output:**
## Server Settings

[{ConfigAccessor key='amdwiki.server.*' valueonly='true' before='* ' after='\n'}]

### Example 3: Application Name
```wiki
[{ConfigAccessor key='amdwiki.applicationName'}]
```
**Output:**
[{ConfigAccessor key='amdwiki.applicationName'}]
> Same as [[{$applicationname}]: [{$applicationname}]

### Example 4: Manager Configuration
```wiki
[{ConfigAccessor type='manager' manager='PageManager'}]
```
**Output:**
[{ConfigAccessor type='manager' manager='PageManager'}]

## Wildcard Support

The `key` parameter supports wildcards using the `*` character for flexible pattern matching:

### Single Wildcard
```wiki
[{ConfigAccessor key='amdwiki.server.*'}]
```
Matches: `amdwiki.server.port`, `amdwiki.server.host`, etc.

### Multiple Levels
```wiki
[{ConfigAccessor key='amdwiki.*.port'}]
```
Matches: `amdwiki.server.port`, `amdwiki.database.port`, etc.

### Full Wildcard
```wiki
[{ConfigAccessor key='amdwiki.*'}]
```
Matches all configuration keys starting with `amdwiki.`

## Value-Only Mode

When `valueonly='true'` is specified, the plugin returns plain text instead of HTML formatting.

### Smart Default Behavior
- **Single value**: returns the value with **no trailing newline** (perfect for inline use!)
- **Multiple values** (wildcard): returns each value on separate lines (with `\n` between)
- Objects: returns JSON string representation
- Empty/not found: returns empty string

The plugin automatically detects whether you're using a single value or wildcard and applies the appropriate default.

### Format Control with before/after

**Example: Single value inline (smart default)**
```wiki
Server port is [{ConfigAccessor key='amdwiki.server.port' valueonly='true'}].
```
Output: Server port is [{ConfigAccessor key='amdwiki.server.port' valueonly='true'}].

**Example: Bulleted list**
```wiki
[{ConfigAccessor key='amdwiki.server.*' valueonly='true' before='* ' after='\n'}]
```

**Example: HTML list**
```wiki
<ul>
[{ConfigAccessor key='amdwiki.server.*' valueonly='true' before='<li>' after='</li>\n'}]
</ul>
```

**Example: Comma-separated**
```wiki
Roles: [{ConfigAccessor key='amdwiki.roles.definitions.*.name' valueonly='true' after=', '}]
```

## Configuration Access Methods

The plugin uses these ConfigurationManager methods internally:

### getAllProperties()
Gets all configuration properties as an object. Used for wildcard matching.

### getProperty(key, defaultValue)
Gets a single configuration property by dot-notation key.

```javascript
key: 'amdwiki.server.port'
returns: 3000
```

### getManagerConfig(managerName)
Gets all configuration for a specific manager.

```javascript
managerName: 'UserManager'
returns: { sessionTimeout: 3600, ... }
```

### getFeatureConfig(featureName)
Gets all configuration for a specific feature.

```javascript
featureName: 'search'
returns: { indexPath: './index', ... }
```

## Common Configuration Keys

### Server Configuration
- `amdwiki.server.port` - Server port number
- `amdwiki.server.host` - Server hostname
- `amdwiki.baseURL` - Base URL for the wiki

### Application Configuration
- `amdwiki.applicationName` - Application display name
- `amdwiki.version` - Current version
- `amdwiki.environment` - Environment (development/production)

### Roles Configuration
- `amdwiki.roles.definitions` - All role definitions
- `amdwiki.access.policies` - Access control policies

### Feature Flags
- `amdwiki.features.search` - Search feature config
- `amdwiki.features.versioning` - Version control config
- `amdwiki.features.attachments` - Attachment handling config

### Manager Configuration
- `amdwiki.managers.pluginManager.searchPaths` - Plugin directories
- `amdwiki.managers.userManager.*` - User management settings
- `amdwiki.managers.pageManager.*` - Page management settings

## Role Information

When displaying roles (`type='roles'`), each role includes:

| Field | Description |
|-------|-------------|
| `name` | Internal role identifier (e.g., `admin`, `editor`) |
| `displayname` | Human-readable name (e.g., "Administrator") |
| `description` | Role purpose and permissions |
| `issystem` | Boolean - true for built-in roles |
| `icon` | FontAwesome icon name |
| `color` | HTML color code for visual identification |

### System Roles

Built-in roles defined in configuration:

1. **admin** - Full system access to all features
2. **editor** - Can edit and manage content
3. **contributor** - Can create and edit own content
4. **reader** - Read-only access to content
5. **anonymous** - Unauthenticated user access

## Case-Insensitive Usage

Plugin names are case-insensitive in amdWiki:

```wiki
[{ConfigAccessor}]           ✓ Works
[{configaccessor}]           ✓ Works
[{CONFIGACCESSOR}]           ✓ Works
[{ConfigAccessor}]           ✓ Works (recommended)
```

All variations invoke the same plugin.

## Error Handling

### Missing Required Parameters
```wiki
[{ConfigAccessor}]
```
Returns:
[{ConfigAccessor}]

### Invalid Configuration Key
```wiki
[{ConfigAccessor key='invalid.key'}]
```
**Example:**
[{ConfigAccessor key='invalid.key'}]

### No Wildcard Matches
```wiki
[{ConfigAccessor key='nonexistent.*'}]
```
**Example:**
[{ConfigAccessor key='nonexistent.*'}]

## Security Considerations

- Configuration values are displayed as-is
- Sensitive values (passwords, API keys) in config will be visible
- Consider access control on pages using this plugin
- Use with caution in public-facing pages

## Use Cases

### 1. Inline Value Embedding
Embed configuration values directly in page text:

```wiki
Welcome to [{ConfigAccessor key='amdwiki.applicationName' valueonly='true' after=''}]!
Running version [{ConfigAccessor key='amdwiki.version' valueonly='true' after=''}].
```

### 2. System Information Pages
Display current configuration on admin/status pages:

```wiki
## Server Configuration

**Port:** [{ConfigAccessor key='amdwiki.server.port' valueonly='true' after=''}]
**Host:** [{ConfigAccessor key='amdwiki.server.host' valueonly='true' after=''}]

### All Server Settings
[{ConfigAccessor key='amdwiki.server.*'}]
```

### 3. Role Documentation
Document available roles for users:

```wiki
## Available User Roles

[{ConfigAccessor type='roles'}]
```

### 4. Dynamic Lists
Create dynamic lists from configuration:

```wiki
## Available Features

[{ConfigAccessor key='amdwiki.features.*' valueonly='true' before='* ' after='\n'}]
```

### 5. Wildcard Pattern Matching
Find all related configuration values:

```wiki
## All Role Configuration

[{ConfigAccessor key='amdwiki.roles.*'}]
```

## Version History

- **2.2.0** (2025-10-17) - Smart defaults release
  - **IMPROVED:** Smart default for `after` parameter based on usage
    - Single values: default `after=''` (no trailing newline) for perfect inline use
    - Multiple values (wildcard): default `after='\n'` (newline) for list formatting
  - No longer need to specify `after=''` for inline single values!
  - Better user experience with intelligent defaults

- **2.1.0** (2025-10-17) - Formatting enhancement release
  - Added `before` and `after` parameters for flexible output formatting
  - Fixed manager/feature config error handling (better null checking)
  - Default `after` value is now `'\n'` (newline)
  - Enhanced valueonly mode with customizable delimiters
  - Support for bulleted lists, HTML lists, and custom formatting

- **2.0.0** (2025-10-17) - Major enhancement release
  - **BREAKING:** Now requires either `key` or `type` parameter (no default behavior)
  - Added `valueonly` parameter for inline value embedding
  - Added wildcard support for `key` parameter (e.g., `amdwiki.server.*`)
  - Multiple value display when wildcards match multiple keys
  - Plain text output mode for easy inline usage
  - Enhanced error handling for edge cases

- **1.0.0** (2025-10-17) - Initial release
  - Roles display
  - Configuration property access
  - Manager configuration display
  - Feature configuration display
  - Case-insensitive plugin invocation

## See Also

- [System Variables] - For dynamic wiki variables
- [VariablesPlugin] - View all system variables and plugins

## More Information
There might be more information for this subject on one of the following:
[{ReferringPagesPlugin before='*' after='\n' }]
