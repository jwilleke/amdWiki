---
title: Page Storage Guide
uuid: 7682c617-555f-4322-9820-c8ae5a89ca37
author: amdWiki Team
system-category: documentation
user-keywords:
  - documentation
  - storage
  - page-management
  - system
slug: page-storage-guide
lastModified: '2025-10-16T20:05:00.000Z'
---

# Page Storage Guide

Understanding where and how wiki pages are stored in amdWiki.

## Quick Overview

amdWiki uses a **two-directory storage system** to organize wiki pages:

- 📁 **`pages/`** - Regular user content (general articles, notes, drafts)
- 📁 **`required-pages/`** - System pages and documentation (protected, critical content)

## Storage Location is Automatic

The directory where your page is stored is **automatically determined** by the `system-category` field in the page metadata.

### How It Works

```yaml
---
title: My Page
system-category: documentation  # ← This field determines storage
---
```

When you save a page:
1. System reads the `system-category`
2. Looks up the category configuration
3. Routes page to correct directory based on `storageLocation` setting

## Storage Rules

### Pages → `required-pages/` Directory

These categories are stored in the protected `required-pages/` directory:

| Category | Description | Example |
|----------|-------------|---------|
| **system** | System infrastructure pages | LeftMenu, Footer, PageIndex, Admin Dashboard, Config |
| **documentation** | Official documentation | User guides, API docs, Help |
| **developer** | Developer documentation | Technical notes, API specs |

**Characteristics:**
- ✅ Higher backup priority
- ✅ Protected from accidental deletion
- ✅ Admin/Editor access required
- ✅ Cached more aggressively

### Pages → `pages/` Directory

These categories are stored in the regular `pages/` directory:

| Category | Description | Example |
|----------|-------------|---------|
| **general** | General wiki pages (default) | Articles, knowledge base |
| **user** | User-created content | Personal notes, drafts |
| **test** | Testing and development | Experiments, sandbox |

**Characteristics:**
- ✅ Standard user access
- ✅ Can be freely edited/deleted
- ✅ Standard backup schedule
- ✅ Default category for new pages

## Why Two Directories?

### 🔐 Security
- Protect critical system pages from accidental changes
- Apply different permission levels

### 💾 Backup Strategy
- Higher priority backups for documentation
- Different retention policies

### ⚡ Performance
- Preload and cache system pages
- Optimize for different access patterns

### 📋 Organization
- Clear separation of system vs user content
- Easier administration and maintenance

## Page Metadata

Every page needs proper frontmatter metadata:

```yaml
---
title: Page Title                          # Required
uuid: 7682c617-555f-4322-9820-c8ae5a89ca37 # Auto-generated
system-category: documentation             # Determines storage
user-keywords:                             # Searchable tags
  - keyword1
  - keyword2
slug: page-title                           # URL-friendly name
author: Your Name                          # Page creator
lastModified: '2025-10-16T20:05:00.000Z'  # Auto-updated
---

# Page Content Here
```

### Key Fields

| Field | Purpose | Example |
|-------|---------|---------|
| `title` | Display name | "Page Storage Guide" |
| `uuid` | Unique ID (filename) | `7682c617-555f-4322-...` |
| `system-category` | **Storage location** | `documentation` |
| `user-keywords` | Search tags | `["storage", "guide"]` |
| `slug` | URL name | `page-storage-guide` |

## Examples

### Creating a Documentation Page

```yaml
---
title: User Guide
system-category: documentation  # ← Routes to required-pages/
user-keywords:
  - documentation
  - guide
author: Technical Writer
---

# User Guide

Official documentation content...
```

**Result:** Saved to `required-pages/[uuid].md`

### Creating a Regular Page

```yaml
---
title: My Project Notes
system-category: user  # ← Routes to pages/
user-keywords:
  - project
  - notes
author: john.doe
---

# My Project Notes

Personal notes and documentation...
```

**Result:** Saved to `pages/[uuid].md`

## Moving Pages Between Directories

To move a page to a different directory:

1. **Edit the page** in the wiki
2. **Change** the `system-category` field
3. **Save** the page
4. System automatically moves it to the correct directory

**Example: Promote draft to documentation**

```yaml
# Before (in pages/)
system-category: user

# After (in required-pages/)
system-category: documentation
```

## Common Questions

### Q: Can I manually move page files?

**A:** ❌ No, don't manually move files. Always change the `system-category` and let the system handle routing.

### Q: What happens if I use a wrong category name?

**A:** Page will use the default category (`general`) and save to `pages/` directory.

### Q: Why are filenames UUIDs?

**A:** UUIDs provide:
- Uniqueness (no conflicts)
- Stability (renaming doesn't break links)
- Security (harder to guess)
- Works with any language/character set

### Q: How do I find a page file on disk?

**A:** Check the "More Information" section on the page to see its UUID, then look for `[uuid].md` in the appropriate directory.

## Configuration

Storage location is configured in `config/app-default-config.json`:

```json
{
  "amdwiki.systemCategories": {
    "documentation": {
      "label": "documentation",
      "description": "User and technical documentation",
      "storageLocation": "required",  // ← Controls directory
      "enabled": true
    },
    "general": {
      "label": "general",
      "description": "General wiki pages",
      "storageLocation": "regular",   // ← Controls directory
      "enabled": true
    }
  }
}
```

## Troubleshooting

### Page not appearing after save

✅ **Check:** Category name is spelled correctly
✅ **Check:** Category is enabled in configuration
✅ **Fix:** Restart server with `./server.sh restart`

### Page in wrong directory

✅ **Check:** Category configuration has correct `storageLocation`
✅ **Fix:** Edit page and re-save to trigger re-routing

### Cannot delete page

✅ **Cause:** Page is in `required-pages/` and requires admin access
✅ **Fix:** Change category to `user`, save, then delete

## Best Practices

### ✅ Do This

- Always include complete metadata
- Use appropriate category for content type
- Choose descriptive titles and keywords
- Let system handle file routing

### ❌ Don't Do This

- Manually move files between directories
- Use vague or missing categories
- Skip frontmatter metadata
- Rename files directly on filesystem

## File Structure Example

```
amdWiki/
├── pages/                              # Regular user content
│   ├── 1a2b3c4d-5e6f-7890-abcd.md    # General article
│   ├── 2b3c4d5e-6f78-90ab-cdef.md    # User notes
│   └── 3c4d5e6f-7890-ab12-3456.md    # Test page
│
└── required-pages/                     # System & documentation
    ├── 110fc9ee-90ca-4e6d-b6fa.md    # LeftMenu (system)
    ├── 443c95f1-0b21-494a-b712.md    # FootnoteExample (docs)
    └── 7682c617-555f-4322-9820.md    # This page (docs)
```

## Full Documentation

For complete technical details, see: **`docs/user-guide/Page-Storage.md`**

Topics covered in full documentation:
- Detailed configuration reference
- Advanced troubleshooting
- Permission management
- Backup strategies
- Migration procedures
- Security considerations

## Related Pages

- [PageManager Documentation](../managers/PageManager.md)
- [Configuration Guide](./Configuration-Guide.md)
- [Access Control Guide](./Access-Control-Guide.md)

---

**Need Help?**
- 📖 See full documentation in `docs/user-guide/Page-Storage.md`
- 💬 Ask in the [Forum](/wiki/Forum)
- 🐛 Report issues on [GitHub](https://github.com/jwilleke/amdWiki/issues)

**Last Updated:** 2025-10-16 | **Category:** Documentation | **Access:** All Users
